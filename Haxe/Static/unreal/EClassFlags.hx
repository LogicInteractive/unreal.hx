package unreal;

@:uextern
@:enum abstract EClassFlags(Int) from Int to Int {

  /** @name Base flags */
  //@{
  var CLASS_None = 0x00000000;
  /** Class is abstract and can't be instantiated directly. */
  var CLASS_Abstract = 0x00000001;
  /** Save object configuration only to Default INIs, never to local INIs. Must be combined with CLASS_Config */
  var CLASS_DefaultConfig = 0x00000002;
  /** Load object configuration at construction time. */
  var CLASS_Config = 0x00000004;
  /** This object type can't be saved; null it out at save time. */
  var CLASS_Transient = 0x00000008;
  /** Successfully parsed. */
  var CLASS_Parsed = 0x00000010;
  /** */
  var CLASS_MatchedSerializers = 0x00000020;
  /** All the properties on the class are shown in the advanced section (which is hidden by default) unless SimpleDisplay is specified on the property */
  var CLASS_AdvancedDisplay = 0x00000040;
  /** Class is a native class - native interfaces will have CLASS_Native set, but not RF_Native */
  var CLASS_Native = 0x00000080;
  /** Don't export to C++ header. */
  var CLASS_NoExport = 0x00000100;
  /** Do not allow users to create in the editor. */
  var CLASS_NotPlaceable = 0x00000200;
  /** Handle object configuration on a per-object basis, rather than per-class. */
  var CLASS_PerObjectConfig = 0x00000400;

	/** Whether SetUpRuntimeReplicationData still needs to be called for this class */
	var CLASS_ReplicationDataIsSetUp = 0x00000800;

	/** Class can be constructed from editinline New button. */
	var CLASS_EditInlineNew		  = 0x00001000;
	/** Display properties in the editor without using categories. */
	var CLASS_CollapseCategories  = 0x00002000;
	/** Class is an interface **/
	var CLASS_Interface           = 0x00004000;
	/**  Do not export a constructor for this class, assuming it is in the cpptext **/
	var CLASS_CustomConstructor   = 0x00008000;
	/** all properties and functions in this class are const and should be exported as const */
	var CLASS_Const			      = 0x00010000;

	/** Class flag indicating the class is having its layout changed, and therefore is not ready for a CDO to be created */
	var CLASS_LayoutChanging	  = 0x00020000;

	/** Indicates that the class was created from blueprint source material */
	var CLASS_CompiledFromBlueprint  = 0x00040000;

	/** Indicates that only the bare minimum bits of this class should be DLL exported/imported */
	var CLASS_MinimalAPI	      = 0x00080000;

	/** Indicates this class must be DLL exported/imported (along with all of it's members) */
	var CLASS_RequiredAPI	      = 0x00100000;

	/** Indicates that references to this class default to instanced. Used to be subclasses of UComponent, but now can be any UObject */
	var CLASS_DefaultToInstanced  = 0x00200000;

	/** Indicates that the parent token stream has been merged with ours. */
	var CLASS_TokenStreamAssembled  = 0x00400000;
	/** Class has component properties. */
	var CLASS_HasInstancedReference= 0x00800000;
	/** Don't show this class in the editor class browser or edit inline new menus. */
	var CLASS_Hidden			  = 0x01000000;
	/** Don't save objects of this class when serializing */
	var CLASS_Deprecated		  = 0x02000000;
	/** Class not shown in editor drop down for class selection */
	var CLASS_HideDropDown		  = 0x04000000;
	/** Class settings are saved to <AppData>/..../Blah.ini (as opposed to CLASS_DefaultConfig) */
	var CLASS_GlobalUserConfig	  = 0x08000000;
	/** Class was declared directly in C++ and has no boilerplate generated by UnrealHeaderTool */
	var CLASS_Intrinsic			  = 0x10000000;
	/** Class has already been constructed (maybe in a previous DLL version before hot-reload). */
	var CLASS_Constructed		  = 0x20000000;
	/** Indicates that object configuration will not check against ini base/defaults when serialized */
	var CLASS_ConfigDoNotCheckDefaults = 0x40000000;
	/** Class has been consigned to oblivion as part of a blueprint recompile, and a newer version currently exists. */
	var CLASS_NewerVersionExists  = 0x80000000;

  var CLASS_Inherit = CLASS_Transient | CLASS_DefaultConfig | CLASS_Config | CLASS_PerObjectConfig | CLASS_ConfigDoNotCheckDefaults | CLASS_NotPlaceable
						| CLASS_Const | CLASS_HasInstancedReference | CLASS_Deprecated | CLASS_DefaultToInstanced | CLASS_GlobalUserConfig;
  var CLASS_ScriptInherit = CLASS_Inherit | CLASS_EditInlineNew | CLASS_CollapseCategories;

  @:extern inline private function t() {
    return this;
  }

  @:op(A | B) @:extern inline public function add(flag:EClassFlags):EClassFlags {
    return this | flag.t();
  }

  @:op(A & B) @:extern inline public function and(mask:EClassFlags):EClassFlags {
    return this & mask.t();
  }

  @:op(~A) @:extern inline public function bitNot():EClassFlags {
    return ~this;
  }

  inline public function hasAny(b:EClassFlags):Bool {
    return Int64Helpers.uopAnd(this, b.t()) != 0;
  }

  inline public function hasAll(b:EClassFlags):Bool {
    return Int64Helpers.uopAnd(this, b.t()) == b.t();
  }
}
